import{j as f,u as _}from"./styled-components.browser.esm-BJwir-wm.js";import{r as E}from"./index-CsdIBAqE.js";import{M as N,Y as d,D as A,U as g,E as y}from"./system-B_OG1Cs5.js";const K={CARD_NUMBER:{inputLabel:"카드번호",inputInfo:Array.from({length:4},(e,r)=>({property:`cardNumber${r+1}`,validateType:"cardNumber",maxLength:4,minLength:4,placeHolder:"1234"}))},EXPIRY_DATE:{inputLabel:"유효기간",inputInfo:[{property:"month",validateType:"month",maxLength:2,minLength:1,placeHolder:"MM"},{property:"year",validateType:"year",maxLength:2,minLength:1,placeHolder:"YY"}]},USER_NAME:{inputLabel:"소유자 이름",inputInfo:[{property:"userName",validateType:"userName",maxLength:20,minLength:1,placeHolder:"JOHN DOE"}]},CVC:{inputLabel:"CVC",inputInfo:[{property:"cvc",validateType:"cvc",maxLength:3,minLength:3,placeHolder:"123"}]},PASSWORD:{inputLabel:"비밀번호 앞 2자리",inputInfo:[{property:"password",validateType:"password",maxLength:2,minLength:2,placeHolder:"",type:"password"}]}},i={INVALID_TRIM_BLANK:"불필요한 공백이 포함되어 있습니다.",INVALID_DOUBLE_BLANK:"빈칸이 두개 이상 포함되어 있습니다.",INVALID_MONTH:"카드의 유효한 유효기간(월)을 입력해주세요.",INVALID_YEAR:"카드의 유효한 유효기간(년도)을 입력해주세요.",INVALID_ONLY_NUMBER:"숫자만 입력해주세요.",INVALID_ONLY_UPPERCASE:"영대문자로만 입력해주세요.",INVALID_CARD_NUMBER_LENGTH:"카드 번호를 4자리씩 입력해주세요.",INVALID_LENGTH:"정보가 모두 입력되지 않았습니다."},D=e=>N.MIN<=e&&e<=N.MAX,w=e=>d.MIN<=e&&e<=d.MAX;function l(e){if(e.trim()===""&&e!==""||e.trim().length!==e.length)throw new Error(i.INVALID_TRIM_BLANK)}function R(e){if(A.test(e))throw new Error(i.INVALID_DOUBLE_BLANK)}function s(e){if(!Number.isInteger(Number(e)))throw new Error(i.INVALID_ONLY_NUMBER)}function I(e){if(e.length===0)return!0}function T(e){if(e.length===0)throw new Error("빈칸")}function v(e){if(I(e))return;const r=Number(e);if(!D(r))throw new Error(i.INVALID_MONTH)}function B(e){if(I(e))return;const r=Number(e);if(!w(r))throw new Error(i.INVALID_YEAR)}function M(e){if(!g.test(e)&&e.length!==0)throw new Error(i.INVALID_ONLY_UPPERCASE)}function V(e,r){return!(e.length<r)}function m(e,r){if(!V(e,r))throw new Error(i.INVALID_LENGTH)}const c={cardNumber:e=>{l(e),s(e),T(e)},month:e=>{l(e),s(e),v(e)},year:e=>{l(e),s(e),B(e)},userName:e=>{R(e),M(e)},cvc:e=>{l(e),s(e)},password:e=>{l(e),s(e)}},b=({info:e,handleInput:r,handleErrorMessage:a,onNext:u})=>{const[h,p]=E.useState(""),L=n=>{var t;try{(t=c[e.validateType])==null||t.call(c,n),r(n),a(""),n.length===e.maxLength&&u()}catch(o){o instanceof Error&&a(o.message)}};return{handleChange:n=>{const t=n.target.value;p(t),L(t)},handleBlur:n=>{const t=n.target.value;try{m(t,e.minLength)}catch(o){o instanceof Error&&a(o.message)}},handleKeyDown:n=>{var t;if(n.key===y)try{m(h,e.minLength),(t=c[e.validateType])==null||t.call(c,h),u()}catch(o){o instanceof Error&&a(o.message)}}}},x=E.forwardRef((e,r)=>{const{info:a,isError:u}=e,{handleChange:h,handleBlur:p,handleKeyDown:L}=b(e);return f.jsx(C,{ref:r,$error:u,type:a.type||"text",maxLength:a.maxLength,placeholder:a.placeHolder,onChange:h,onBlur:p,onKeyDown:L})}),C=_.input`
  width: 100%;
  padding: 0.5rem;
  border: 1px solid ${({$error:e})=>e?"red":"grey"};
  outline-color: ${({$error:e})=>e?"red":"grey"};
  border-radius: 3px;
`;x.__docgenInfo={description:"",methods:[],displayName:"Input"};export{x as I,K as a,V as c};
